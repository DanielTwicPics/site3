(function(n,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define(t):(n=n||self,n.Mustache=t())})(this,function(){"use strict";
/*!
     * mustache.js - Logic-less {{mustache}} templates with JavaScript
     * http://github.com/janl/mustache.js
     */
function e(n){return typeof n=="function"}function l(n){return f(n)?"array":typeof n}function o(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function s(n,t){return n!=null&&typeof n=="object"&&t in n}function a(n,t){return n!=null&&typeof n!="object"&&n.hasOwnProperty&&n.hasOwnProperty(t)}function y(n,t){return v.call(n,t)}function w(n){return!y(p,n)}function k(n){return String(n).replace(/[&<>"'`=\/]/g,function(n){return b[n]})}function it(n,i){function lt(){if(ot&&!b)while(p.length)delete a[p.pop()];else p=[];ot=!1;b=!1}function vt(n){if(typeof n=="string"&&(n=n.split(g,2)),!f(n)||n.length!==2)throw new Error("Invalid tags: "+n);ht=new RegExp(o(n[0])+"\\s*");v=new RegExp("\\s*"+o(n[1]));at=new RegExp("\\s*"+o("}"+n[1]))}var ht,v,at,r,c,e,s,y,ct,l,it,yt;if(!n)return[];var ft=!1,et=[],a=[],p=[],ot=!1,b=!1,k="",st=0;for(vt(i||t.tags),r=new u(n);!r.eos();){if(c=r.pos,s=r.scanUntil(ht),s)for(it=0,yt=s.length;it<yt;++it)y=s.charAt(it),w(y)?(p.push(a.length),k+=y):(b=!0,ft=!0,k+=" "),a.push(["text",y,c,c+1]),c+=1,y==="\n"&&(lt(),k="",st=0,ft=!1);if(!r.scan(ht))break;if(ot=!0,e=r.scan(tt)||"name",r.scan(d),e==="="?(s=r.scanUntil(h),r.scan(h),r.scanUntil(v)):e==="{"?(s=r.scanUntil(at),r.scan(nt),r.scanUntil(v),e="&"):s=r.scanUntil(v),!r.scan(v))throw new Error("Unclosed tag at "+r.pos);if(ct=e==">"?[e,s,c,r.pos,k,st,ft]:[e,s,c,r.pos],st++,a.push(ct),e==="#"||e==="^")et.push(ct);else if(e==="/"){if(l=et.pop(),!l)throw new Error('Unopened section "'+s+'" at '+c);if(l[1]!==s)throw new Error('Unclosed section "'+l[1]+'" at '+c);}else e==="name"||e==="{"||e==="&"?b=!0:e==="="&&vt(s)}if(lt(),l=et.pop(),l)throw new Error('Unclosed section "'+l[1]+'" at '+r.pos);return ut(rt(a))}function rt(n){for(var u=[],t,i,r=0,f=n.length;r<f;++r)t=n[r],t&&(t[0]==="text"&&i&&i[0]==="text"?(i[1]+=t[1],i[3]=t[3]):(u.push(t),i=t));return u}function ut(n){for(var u=[],r=u,i=[],t,e,f=0,o=n.length;f<o;++f){t=n[f];switch(t[0]){case"#":case"^":r.push(t);i.push(t);r=t[4]=[];break;case"/":e=i.pop();e[5]=t[2];r=i.length>0?i[i.length-1][4]:u;break;default:r.push(t)}}return u}function u(n){this.string=n;this.tail=n;this.pos=0}function i(n,t){this.view=n;this.cache={".":this.view};this.parent=t}function n(){this.templateCache={_cache:{},set:function(n,t){this._cache[n]=t},get:function(n){return this._cache[n]},clear:function(){this._cache={}}}}var c=Object.prototype.toString,f=Array.isArray||function(n){return c.call(n)==="[object Array]"},v=RegExp.prototype.test,p=/\S/,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},d=/\s*/,g=/\s+/,h=/\s*=/,nt=/\s*\}/,tt=/#|\^|\/|>|\{|&|=|!/,t,r;return u.prototype.eos=function(){return this.tail===""},u.prototype.scan=function(n){var i=this.tail.match(n),t;return!i||i.index!==0?"":(t=i[0],this.tail=this.tail.substring(t.length),this.pos+=t.length,t)},u.prototype.scanUntil=function(n){var i=this.tail.search(n),t;switch(i){case-1:t=this.tail;this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,i);this.tail=this.tail.substring(i)}return this.pos+=t.length,t},i.prototype.push=function(n){return new i(n,this)},i.prototype.lookup=function(n){var h=this.cache,i,r,t,u,f,o;if(h.hasOwnProperty(n))i=h[n];else{for(r=this,o=!1;r;){if(n.indexOf(".")>0)for(t=r.view,u=n.split("."),f=0;t!=null&&f<u.length;)f===u.length-1&&(o=s(t,u[f])||a(t,u[f])),t=t[u[f++]];else t=r.view[n],o=s(r.view,n);if(o){i=t;break}r=r.parent}h[n]=i}return e(i)&&(i=i.call(this.view)),i},n.prototype.clearCache=function(){typeof this.templateCache!="undefined"&&this.templateCache.clear()},n.prototype.parse=function(n,i){var u=this.templateCache,f=n+":"+(i||t.tags).join(":"),e=typeof u!="undefined",r=e?u.get(f):undefined;return r==undefined&&(r=it(n,i),e&&u.set(f,r)),r},n.prototype.render=function(n,t,r,u){var f=this.parse(n,u),e=t instanceof i?t:new i(t,undefined);return this.renderTokens(f,e,r,n,u)},n.prototype.renderTokens=function(n,t,i,r,u){for(var h="",e,o,f,s=0,c=n.length;s<c;++s)f=undefined,e=n[s],o=e[0],o==="#"?f=this.renderSection(e,t,i,r):o==="^"?f=this.renderInverted(e,t,i,r):o===">"?f=this.renderPartial(e,t,i,u):o==="&"?f=this.unescapedValue(e,t):o==="name"?f=this.escapedValue(e,t):o==="text"&&(f=this.rawValue(e)),f!==undefined&&(h+=f);return h},n.prototype.renderSection=function(n,t,i,r){function l(n){return c.render(n,t,i)}var c=this,o="",u=t.lookup(n[1]),s,h;if(u){if(f(u))for(s=0,h=u.length;s<h;++s)o+=this.renderTokens(n[4],t.push(u[s]),i,r);else if(typeof u=="object"||typeof u=="string"||typeof u=="number")o+=this.renderTokens(n[4],t.push(u),i,r);else if(e(u)){if(typeof r!="string")throw new Error("Cannot use higher-order sections without the original template");u=u.call(t.view,r.slice(n[3],n[5]),l);u!=null&&(o+=u)}else o+=this.renderTokens(n[4],t,i,r);return o}},n.prototype.renderInverted=function(n,t,i,r){var u=t.lookup(n[1]);if(!u||f(u)&&u.length===0)return this.renderTokens(n[4],t,i,r)},n.prototype.indentPartial=function(n,t,i){for(var f=t.replace(/[^ \t]/g,""),u=n.split("\n"),r=0;r<u.length;r++)u[r].length&&(r>0||!i)&&(u[r]=f+u[r]);return u.join("\n")},n.prototype.renderPartial=function(n,t,i,r){var u;if(i&&(u=e(i)?i(n[1]):i[n[1]],u!=null)){var s=n[6],h=n[5],o=n[4],f=u;return h==0&&o&&(f=this.indentPartial(u,o,s)),this.renderTokens(this.parse(f,r),t,i,f,r)}},n.prototype.unescapedValue=function(n,t){var i=t.lookup(n[1]);if(i!=null)return i},n.prototype.escapedValue=function(n,i){var r=i.lookup(n[1]);if(r!=null)return typeof r=="number"?String(r):t.escape(r)},n.prototype.rawValue=function(n){return n[1]},t={name:"mustache.js",version:"4.0.1",tags:["{{","}}"],clearCache:undefined,escape:undefined,parse:undefined,render:undefined,Scanner:undefined,Context:undefined,Writer:undefined,set templateCache(n){r.templateCache=n},get templateCache(){return r.templateCache}},r=new n,t.clearCache=function(){return r.clearCache()},t.parse=function(n,t){return r.parse(n,t)},t.render=function(n,t,i,u){if(typeof n!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+l(n)+'" was given as the first argument for mustache#render(template, view, partials)');return r.render(n,t,i,u)},t.escape=k,t.Scanner=u,t.Context=i,t.Writer=n,t});
//# sourceMappingURL=mustache.js.map

//# sourceMappingURL=mustache.js.map
