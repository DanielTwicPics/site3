(function(n,t){var i=n.document,y=i.domain.indexOf(".")>-1?i.domain.substr(i.domain.indexOf(".")):"",r=null,p=/([^?\.|]+)(\.([^|]*))?/g,e=null,o=!1,s=!1,c="SiteVersionCookie",w="SiteVersionCookieNoChanges",l="VariantCookie",a="CookieId",v="UniqueVisitContext",b="SitePersoCookie",f={inputType:{},inputAttr:{}},h,u;(function(){var t=i.createElement("input"),u="search;tel;url;email;datetime;date;month;week;time;datetime-local;number;range;color".split(";"),e="autocomplete;autofocus;list;placeholder;max min;multiple;pattern;required;step".split(";"),n;for(var r in u)n=u[r],t.setAttribute("type",n),f.inputType[n]=t.type!=="text";for(r in e)n=e[r],f.inputAttr[n]=n in t})();h=function(n,t){for(var i in t)t.hasOwnProperty(i)&&!n[i]?n[i]=t[i]:!1;return n};h(String.prototype,{isEmpty:function(){return/^[ ]*$/.test(this||"")},trim:function(){return(this||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},removeSpace:function(){return this.replace(/[ ]+/g,"")},oneLine:function(){return this.replace(/[\r\n\f\t\v]+/g,"")},capitalize:function(){return this.replace(/\w+/g,function(n){return n.charAt(0).toUpperCase()+n.substr(1).toLowerCase()})},sprintf:function(){var r=arguments,u="",n=0,f=this,i=0;return this.replace(/(%(.\d){0,1}d)|(%s)/g,function(e,o,s,h,c){var l=(r[i]!==t?r[i]:"").toString();if(e.length===4){for(var y=e.charAt(1),a=parseInt(e.charAt(2),10),v="",a=a-l.length;a-->0;)v+=y;l=v+l}u+=f.substring(n,c)+l;n=c+e.length;++i}),u+f.substring(n)},toNumber:function(){return n.parseInt(this||0,10)}});h(Array.prototype,{each:function(n){for(var t=0;t<this.length;)n(this[t++]);return this}});Array.prototype.map||(Array.prototype.map=function(n,t){for(var r=[],i=0;i<this.length;i++)r[i]=n.call(t,this[i],i,this);return r});u={CookieSiteVersionName:c,CookieVarianName:l,CookieCookieIdName:a,CookieClientIdName:"ClientId",CookieUContextName:v,isDebug:!1,isEmptyString:function(n){return/^[ ]*$/.test(n||"")},trim:function(n){return(n||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},qsToObj:function(n,t){var i={};return n.toString().trim().replace("#","&anchor=").replace(/([^?=&]+)(=([^&]*))?/g,function(n,r,u,f){i[t||!1?r.toLowerCase():r]=decodeURIComponent(f)}),i},getBrowser:function(){if(!e){var t=n.navigator.userAgent.toLowerCase(),i=/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||!/compatible/.test(t)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||[];e={name:i[1]||"",version:i[2]||"0"}}return e},type:function(n){return Object.prototype.toString.apply(n).toLowerCase().replace(/\[object (.*)\]/,function(n,t){return t})},log:function(n){typeof n=="string"&&typeof console=="object"&&typeof console.log=="function"&&console.log(n)},getAllCookies:function(){var n={},t=this;return i.cookie.replace(/([^?=;]+)(=([^;]*))?/g,function(t,i,r,u){var o=i.trim(),s=typeof u=="string"?u.trim():"",e,f;if(o===a)(s||"").replace(new RegExp("([^=&]+)(=([^&]*))?","g"),function(t,i,r,u){n[i]=u||""});else if(o===v||o===b)for(e=s.split("__"),f=0;f<e.length;f++)f%2!=0||e[f].isEmpty()||(n[e[f]]=f+1<e.length?unescape(e[f+1]):"");else o.isEmpty()||(n[o]=unescape(s))}),r=n},getCookie:function(n,i){var u="";return n.isEmpty()||((r===null||i)&&(r=this.getAllCookies()),r[n]!==t&&(u=r[n])),u},setCookie:function(n,t,u){var e,f;n.isEmpty()||(e="",u&&(f=new Date,f.setTime(f.getTime()+u*6e4),e=";expires="+f.toGMTString()),i.cookie=n+"="+t+";domain="+y+e+";path=/",r=null)},deleteCookie:function(n){this.setCookie(n,"",-1)},cookieValueToObj:function(n){var i={};return n.toString().trim().replace(p,function(n,r,u,f){i[r]=f!==t?f:""}),i.toString=function(){var n="",t,i;for(t in this)i=this[t],typeof i=="string"&&(n+=(n!==""?"|":"")+(t+"."+i));return n},i},getSiteVersion:function(n){return this.cookieValueToObj(this.getCookie(c))[n]==="1"||this.cookieValueToObj(this.getCookie(w))[n]==="1"},getVariant:function(n){var i=this.cookieValueToObj(this.getCookie(l))[n];return i!==t?i:""},parseJson:function(n){return typeof JSON!="undefined"?JSON.parse(n):eval("("+n+")")},loadScript:function(n,t){if(n){var u=i.getElementsByTagName("script")[0],r=i.createElement("script");r.type="text/javascript";r.async=!0;n.src&&(r.src=n.src);n.text&&(r.text=n.text);n.id&&(r.id=n.id);t&&(r.readyState?r.onreadystatechange=function(){(r.readyState==="complete"||r.readyState==="loaded")&&t()}:r.onload=t);u.parentNode.insertBefore(r,u)}},loadScriptToPageLoad:function(n,t){this.bindToPageLoad(function(){this.loadScript(n,t)})},loadOrderedScripts:function(n,t){if(n.length>1){var i=n.slice(1);this.loadScript({src:n[0]},function(){u.loadOrderedScripts(i,t)})}else this.loadScript({src:n[0]},t)},insertScript:function(n,t){var r="";n&&(r='<script type="text/javascript""',t&&(r+=' id="'+t+'"'),r+=' src="'+n+'"><\/script>');i.write(r)},getXHR:function(t,i,r,u){if(t){var f=null,e=i||!1;if(n.ActiveXObject?f=new n.ActiveXObject("Microsoft.XMLHTTP"):n.XMLHttpRequest&&(f=new n.XMLHttpRequest),r&&(f.onreadystatechange=function(){f.readyState==4&&r(f.responseText)}),u&&(f.onerror=function(){u()}),f&&(f.open("GET",t,e),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"),f.send(null)),!e)return f.responseText}},sendRequest:function(n){n&&((new Image).src=n)},addStyles:function(n){if(n){var t=i.createElement("style");t.type="text/css";t.appendChild(i.createTextNode(n));i.getElementsByTagName("head").item(0).appendChild(t)}},loadStylesSheet:function(n){if(n){var t=i.createElement("link");t.type="text/css";t.rel="stylesheet";t.href=n;t.media="screen";i.getElementsByTagName("head")[0].appendChild(t)}},bindToPageLoad:function(t){s?t():n.attachEvent?n.attachEvent("onload",t):n.addEventListener("load",t,!1)},bindToDomReady:function(n){o?n():i.attachEvent?i.attachEvent("onreadystatechange",n):i.addEventListener("DOMContentLoaded",n,!1)},isDomReady:function(){return o},isPageLoad:function(){return s},isInputTypeSupported:function(n){return f.inputType[n]},isInputAttrSupported:function(n){return f.inputAttr[n]}};u.bindToDomReady(function(){o=!0});u.bindToPageLoad(function(){s=!0});n.cds=u})(window);
//# sourceMappingURL=cds.utils.js.map

//# sourceMappingURL=cds.utils.js.map
